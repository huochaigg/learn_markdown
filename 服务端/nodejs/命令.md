## å¯ä»¥ä½¿ç”¨commanderåº“

å®‰è£…

```
npm install commander
```

ä½¿ç”¨

æ·»åŠ å¯æ‰§è¡Œæƒé™ï¼ˆUNIX ç³»ç»Ÿï¼‰ï¼š

```
chmod +x index.js
```

æ‰§è¡Œå‘½ä»¤ï¼š

```
node index.js ./your-code-folder -e js,ts
```

```
#!/usr/bin/env node

const fs = require('fs');
const path = require('path');
const { program } = require('commander');

program
  .argument('<dir>', 'è¦ç»Ÿè®¡çš„ç›®å½•')
  .option('-e, --ext <extensions>', 'ä»¥é€—å·åˆ†éš”çš„æ‰©å±•åï¼Œå¦‚ js,ts,vue', 'js')
  .parse();

const dir = program.args[0];
const extensions = program.opts().ext.split(',').map(ext => ext.trim().toLowerCase());

let totalLines = 0;

function countLinesInFile(filePath) {
  const content = fs.readFileSync(filePath, 'utf8');
  return content.split('\n').length;
}

function walk(dirPath) {
  const files = fs.readdirSync(dirPath, { withFileTypes: true });

  for (const file of files) {
    const fullPath = path.join(dirPath, file.name);

    // å¿½ç•¥éšè—æ–‡ä»¶å¤¹å’Œ node_modules
    if (file.isDirectory()) {
      if (file.name.startsWith('.') || file.name === 'node_modules') continue;
      walk(fullPath);
    } else {
      const ext = path.extname(file.name).slice(1).toLowerCase();
      if (extensions.includes(ext)) {
        const lines = countLinesInFile(fullPath);
        totalLines += lines;
        console.log(`${fullPath}: ${lines} è¡Œ`);
      }
    }
  }
}

walk(dir);
console.log(`\nğŸ“Š æ€»è¡Œæ•°: ${totalLines}`);

```


TODO å¾…å®Œå–„