
## SYN / ACK / FIN 是什么？

TCP 报文头里的 **控制位**

| 标志位     | 含义             | 用于哪种场景   |
| ------- | -------------- | -------- |
| **SYN** | Synchronize    | 建立连接（握手） |
| **ACK** | Acknowledgment | 确认收到（应答） |
| **FIN** | Finish         | 断开连接（挥手） |

## 三次握手（建立连接）

用于 **建立一个可靠的 TCP 连接**，确保客户端和服务器双方都准备好了。

- **第一次握手**：客户端发送一个带 SYN 标志的包，表示 “我要连接你”；
    
- **第二次握手**：服务器收到后，回复一个 **SYN + ACK**，表示 “我收到了，同时我也准备好了”；
    
- **第三次握手**：客户端再回复一个 ACK，表示 “我知道你准备好了”；

此时，连接建立，双方可以开始传输数据。


## 四次挥手（断开连接）

- **第一次挥手**：客户端发送 FIN，请求断开连接（我要关闭发送）；
    
- **第二次挥手**：服务器返回 ACK（我知道了，但我还有数据要传）；
    
- **第三次挥手**：服务器准备好后，也发送一个 FIN（我现在也关闭了）；
    
- **第四次挥手**：客户端返回 ACK（确认断开）；


## 为什么不是两次握手/两次挥手？

- 握手需要确保双向通信都准备好，所以要三次。
    
- 挥手中，一方可能还有剩余数据未发送完，所以需要等它主动 FIN，因此是四次。


## SSL/TLS协议和TCP什么关系

SSL/TLS 是运行在 TCP 之上的安全层协议，负责加密通信；TCP 负责可靠传输。

层级：

```
应用层       ← HTTP / HTTPS / WebSocket
传输层       ← TCP / UDP
安全层       ← SSL / TLS（位于 TCP 和 HTTP 之间）
网络层       ← IP
链路层       ← 网卡驱动、以太网等
```

流程：

浏览器 → 发出 HTTP 请求 → 先用 TLS 加密 → 然后走 TCP → 然后传输
