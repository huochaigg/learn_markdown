## HTTPS 为什么要有“对称密钥”？

HTTPS 最终传输数据（如账号密码、网页内容等）是用「对称加密」完成的，因为：

- 对称加密快（适合传输大量数据）
- 但「对称密钥」双方必须都知道，且不能被中间人窃听

所以，需要一个安全的“密钥交换”过程

## 谁生成对称密钥？

是 **客户端（浏览器）生成的！**

- 浏览器 **生成一个随机的对称密钥**（比如 AES 密钥）
- 然后用服务器的「公钥」加密这个密钥
- 发给服务器
- 服务器用它的「私钥」解密 → 得到对称密钥

## 完整流程

客户端发起 HTTPS 请求，Server 返回带“公钥”的证书（SSL/TLS 证书）
客户端验证证书（确认合法性、域名、签名）
客户端随机生成一个对称密钥（比如 AES-256 密钥）
客户端用服务器的“公钥”加密这个密钥，发送给服务器
服务器用“私钥”解密，拿到这个对称密钥
后续双方用这个对称密钥通信（AES 加密）

## 为什么不一直用非对称加密通信？

因为：

- 非对称加密（如 RSA）加解密速度太慢
- 而对称加密（如 AES）非常快，适合大量传输数据
- 
**所以 HTTPS 采用的是混合加密：**

- 用非对称加密传送「对称密钥」（只发生一次）
- 用对称加密加密后续内容（高效通信）